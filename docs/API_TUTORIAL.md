# [123äº‘ç›˜](https://www.123pan.com) æ— é™åˆ¶åˆ†äº«å·¥å…·ï¼ˆAPIæŽ¥å£æ–‡æ¡£ï¼‰

## ç›®å½•
- [123äº‘ç›˜ æ— é™åˆ¶åˆ†äº«å·¥å…·ï¼ˆAPIæŽ¥å£æ–‡æ¡£ï¼‰](#123äº‘ç›˜-æ— é™åˆ¶åˆ†äº«å·¥å…·apiæŽ¥å£æ–‡æ¡£)
  - [ç›®å½•](#ç›®å½•)
  - [å¯¹æŽ¥æœºå™¨äººç›¸å…³](#å¯¹æŽ¥æœºå™¨äººç›¸å…³)
    - [é€šç”¨è¯´æ˜Žï¼šæŽ’é˜Ÿæœºåˆ¶](#é€šç”¨è¯´æ˜ŽæŽ’é˜Ÿæœºåˆ¶)
    - [POST /api/export (å¯¼å‡ºä¸ªäººç½‘ç›˜æ–‡ä»¶)](#post-apiexport-å¯¼å‡ºä¸ªäººç½‘ç›˜æ–‡ä»¶)
    - [POST /api/import (å¯¼å…¥åˆ†äº«åˆ°ä¸ªäººç½‘ç›˜)](#post-apiimport-å¯¼å…¥åˆ†äº«åˆ°ä¸ªäººç½‘ç›˜)
    - [POST /api/link (ä»Žåˆ†äº«é“¾æŽ¥å¯¼å‡º)](#post-apilink-ä»Žåˆ†äº«é“¾æŽ¥å¯¼å‡º)
  - [å…¬å…±èµ„æºåº“ç›¸å…³](#å…¬å…±èµ„æºåº“ç›¸å…³)
    - [POST /api/get\_content\_tree (èŽ·å–åˆ†äº«å†…å®¹ç›®å½•æ ‘)](#post-apiget_content_tree-èŽ·å–åˆ†äº«å†…å®¹ç›®å½•æ ‘)
    - [POST /api/get\_sharecode (é€šè¿‡çŸ­ç èŽ·å–é•¿åˆ†äº«ç )](#post-apiget_sharecode-é€šè¿‡çŸ­ç èŽ·å–é•¿åˆ†äº«ç )
    - [POST /api/search\_database (æœç´¢å…¬å…±èµ„æº)](#post-apisearch_database-æœç´¢å…¬å…±èµ„æº)
    - [POST /api/submit\_database (æäº¤é•¿åˆ†äº«ç åˆ°æ•°æ®åº“)](#post-apisubmit_database-æäº¤é•¿åˆ†äº«ç åˆ°æ•°æ®åº“)
    - [GET /api/list\_public\_shares (åˆ—å‡ºå…¬å…±èµ„æº)](#get-apilist_public_shares-åˆ—å‡ºå…¬å…±èµ„æº)
  - [ç®¡ç†åŽå°API](#ç®¡ç†åŽå°api)
    - [é€šç”¨è¯´æ˜Žï¼šç®¡ç†å‘˜è®¤è¯](#é€šç”¨è¯´æ˜Žç®¡ç†å‘˜è®¤è¯)
    - [GET /api/{ADMIN\_ENTRY}/get\_shares (èŽ·å–åˆ†äº«åˆ—è¡¨)](#get-apiadmin_entryget_shares-èŽ·å–åˆ†äº«åˆ—è¡¨)
    - [POST /api/{ADMIN\_ENTRY}/update\_share\_status (æ›´æ–°åˆ†äº«çŠ¶æ€)](#post-apiadmin_entryupdate_share_status-æ›´æ–°åˆ†äº«çŠ¶æ€)
    - [POST /api/{ADMIN\_ENTRY}/update\_share\_name (æ›´æ–°åˆ†äº«åç§°)](#post-apiadmin_entryupdate_share_name-æ›´æ–°åˆ†äº«åç§°)
    - [POST /api/{ADMIN\_ENTRY}/delete\_share (åˆ é™¤åˆ†äº«)](#post-apiadmin_entrydelete_share-åˆ é™¤åˆ†äº«)
    - [POST /api/{ADMIN\_ENTRY}/update\_database (ä»Žè¿œç¨‹æ›´æ–°æ•°æ®åº“)](#post-apiadmin_entryupdate_database-ä»Žè¿œç¨‹æ›´æ–°æ•°æ®åº“)

---

## å¯¹æŽ¥æœºå™¨äººç›¸å…³

### é€šç”¨è¯´æ˜Žï¼šæŽ’é˜Ÿæœºåˆ¶
`export`, `import`, `link` è¿™ä¸‰ä¸ªAPIæŽ¥å£åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œæ—¶ï¼Œå¦‚æžœæ¶‰åŠåˆ°ä¸Ž123äº‘ç›˜å®˜æ–¹APIçš„äº¤äº’ï¼ˆä¾‹å¦‚ç™»å½•ã€åˆ—å‡ºæ–‡ä»¶ã€å¯¼å…¥æ–‡ä»¶ç­‰ï¼‰ï¼Œä¼šå°†è¯·æ±‚åŠ å…¥ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­æŽ’é˜Ÿæ‰§è¡Œã€‚è¿™æ ·åšæ˜¯ä¸ºäº†é¿å…å› çŸ­æ—¶é—´å†…å‘123äº‘ç›˜APIå‘é€è¿‡å¤šè¯·æ±‚è€Œå¯¼è‡´æœåŠ¡å™¨IPè¢«æš‚æ—¶å°ç¦æˆ–é™åˆ¶ã€‚å®¢æˆ·ç«¯ä¼šæ”¶åˆ°æµå¼çš„çŠ¶æ€æ›´æ–°ï¼Œå‘ŠçŸ¥æŽ’é˜Ÿæƒ…å†µåŠæ“ä½œè¿›åº¦ã€‚

---

### POST /api/export (å¯¼å‡ºä¸ªäººç½‘ç›˜æ–‡ä»¶)
ä»Žç”¨æˆ·123ç½‘ç›˜è´¦æˆ·ä¸­å¯¼å‡ºæŒ‡å®šç›®å½•ï¼ˆæˆ–æ•´ä¸ªç½‘ç›˜ï¼‰çš„æ–‡ä»¶ç»“æž„ä¸ºé•¿åˆ†äº«ç ã€‚å¯ä»¥é€‰æ‹©æ€§åœ°ç”ŸæˆçŸ­åˆ†äº«ç å¹¶åŠ å…¥èµ„æºå…±äº«è®¡åˆ’ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°                | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                                                                 |
|-------------------------|---------|----------|----------------------------------------------------------------------|
| `username`              | string  | æ˜¯       | 123äº‘ç›˜ç”¨æˆ·å/é‚®ç®±                                                        |
| `password`              | string  | æ˜¯       | 123äº‘ç›˜å¯†ç                                                              |
| `homeFilePath`          | string  | å¦       | è¦å¯¼å‡ºçš„æ–‡ä»¶å¤¹IDï¼Œé»˜è®¤ä¸º "0" (æ ¹ç›®å½•)                                      |
| `userSpecifiedBaseName` | string  | å¦       | ç”¨æˆ·æŒ‡å®šçš„åˆ†äº«åç§°ï¼Œå¦‚æžœ `generateShortCode` æˆ– `shareProject` ä¸º `true` æ—¶å»ºè®®å¡«å†™ |
| `generateShortCode`     | boolean | å¦       | æ˜¯å¦ç”ŸæˆçŸ­åˆ†äº«ç  (é»˜è®¤ä¸º `false`)ã€‚å¦‚æžœ `shareProject` ä¸º `true`ï¼Œæ­¤é¡¹å¼ºåˆ¶ä¸º `true`ã€‚ |
| `shareProject`          | boolean | å¦       | æ˜¯å¦åŠ å…¥èµ„æºå…±äº«è®¡åˆ’ (é»˜è®¤ä¸º `false`)ï¼ŒåŠ å…¥åŽå°†æäº¤åˆ°æ•°æ®åº“ç­‰å¾…å®¡æ ¸ã€‚å¦‚æžœä¸º `true`ï¼Œåˆ™ `userSpecifiedBaseName` å¿…å¡«ã€‚ |

**å“åº”å†…å®¹ (application/x-ndjson - æµå¼ï¼Œæ¯è¡Œä¸€ä¸ªJSONå¯¹è±¡)**
æ¯ä¸ªJSONå¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
| å­—æ®µå     | ç±»åž‹           | æè¿°                                                                                                                               |
|------------|----------------|------------------------------------------------------------------------------------------------------------------------------------|
| `isFinish` | boolean / None | `None`: æ“ä½œè¿›è¡Œä¸­ï¼› `True`: æ“ä½œæˆåŠŸå®Œæˆï¼› `False`: æ“ä½œå¤±è´¥ã€‚                                                                            |
| `message`  | string         | æ“ä½œä¿¡æ¯æˆ–ç»“æžœã€‚å¦‚æžœ `isFinish` ä¸º `True`ï¼Œ`message` å°†æ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼ŒåŒ…å« `{"longShareCode": "...", "shortShareCode": "..."}`ï¼ˆå¦‚æžœç”Ÿæˆäº†çŸ­ç ï¼‰ã€‚ |

**ç¤ºä¾‹æµå¼å“åº”ç‰‡æ®µ:**
```json
{"isFinish": null, "message": "æ­£åœ¨æŽ’é˜Ÿä¸­... å‰é¢è¿˜æœ‰ 1 äººã€‚"}
{"isFinish": null, "message": "æ­å–œä¹‰çˆ¶, è½®åˆ°æ‚¨å˜ž! æ“ä½œå³å°†å¼€å§‹..."}
{"isFinish": null, "message": "å‡†å¤‡ç™»å½•..."}
{"isFinish": null, "message": "ç™»å½•æˆåŠŸï¼Œå¼€å§‹å¯¼å‡ºæ–‡ä»¶åˆ—è¡¨..."}
{"isFinish": null, "message": "èŽ·å–æ–‡ä»¶åˆ—è¡¨ä¸­ï¼šparentFileId: 0"}
{"isFinish": true, "message": "{\"longShareCode\":\"é•¿åˆ†äº«ç base64æ•°æ®...\",\"shortShareCode\":\"ç”Ÿæˆçš„çŸ­åˆ†äº«ç hash...\"}"}
```
**é”™è¯¯å“åº”ç¤ºä¾‹ (å•è¡Œ):**
```json
{"isFinish": false, "message": "ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç ã€‚"}
```
**çŠ¶æ€ç :**
*   `200 OK`: è¯·æ±‚è¢«æŽ¥å—å¹¶å¼€å§‹å¤„ç†ï¼ˆæµå¼å“åº”ï¼‰ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ã€‚

---

### POST /api/import (å¯¼å…¥åˆ†äº«åˆ°ä¸ªäººç½‘ç›˜)
å°†é€šè¿‡é•¿åˆ†äº«ç æˆ–çŸ­åˆ†äº«ç è¡¨ç¤ºçš„æ–‡ä»¶ç»“æž„å¯¼å…¥åˆ°ç”¨æˆ·æŒ‡å®šçš„123ç½‘ç›˜è´¦æˆ·ä¸­ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°           | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                                                                                                     |
|--------------------|---------|----------|----------------------------------------------------------------------------------------------------------|
| `username`         | string  | æ˜¯       | 123äº‘ç›˜ç”¨æˆ·å/é‚®ç®±                                                                                           |
| `password`         | string  | æ˜¯       | 123äº‘ç›˜å¯†ç                                                                                                 |
| `codeHash`         | string  | å¦       | çŸ­åˆ†äº«ç  (64ä½SHA256å“ˆå¸Œå€¼)ã€‚å¦‚æžœæä¾›æ­¤é¡¹ï¼Œåˆ™å¿½ç•¥ `base64Data` å’Œ `rootFolderName`ã€‚                               |
| `base64Data`       | string  | å¦       | é•¿åˆ†äº«ç  (Base64ç¼–ç çš„æ–‡ä»¶ç»“æž„æ•°æ®)ã€‚å¦‚æžœæä¾›æ­¤é¡¹ï¼Œåˆ™ `rootFolderName` ä¹Ÿå¿…é¡»æä¾›ã€‚                                      |
| `rootFolderName`   | string  | å¦       | å½“ä½¿ç”¨ `base64Data` å¯¼å…¥æ—¶ï¼Œåœ¨ç”¨æˆ·ç½‘ç›˜æ ¹ç›®å½•ä¸‹åˆ›å»ºçš„æ–‡ä»¶å¤¹åç§°ã€‚                                                     |
| `shareProject`     | boolean | å¦       | ä»…å½“ä½¿ç”¨ `base64Data` å¯¼å…¥æ—¶æœ‰æ•ˆ (é»˜è®¤ä¸º `false`)ã€‚å¦‚æžœä¸º `true`ï¼Œåˆ™æ­¤é•¿åˆ†äº«ç ä¹Ÿä¼šè¢«æäº¤åˆ°å…¬å…±èµ„æºåº“ (å¾…å®¡æ ¸)ï¼Œä¸” `rootFolderName` ä¸èƒ½ä¸ºç©ºã€‚ |

**å“åº”å†…å®¹ (application/x-ndjson - æµå¼ï¼Œæ¯è¡Œä¸€ä¸ªJSONå¯¹è±¡)**
æ¯ä¸ªJSONå¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
| å­—æ®µå     | ç±»åž‹           | æè¿°                                                                     |
|------------|----------------|--------------------------------------------------------------------------|
| `isFinish` | boolean / None | `None`: æ“ä½œè¿›è¡Œä¸­ï¼› `True`: æ“ä½œæˆåŠŸå®Œæˆï¼› `False`: æ“ä½œå¤±è´¥ã€‚                  |
| `message`  | string         | æ“ä½œä¿¡æ¯æˆ–ç»“æžœã€‚å¦‚æžœ `isFinish` ä¸º `True`ï¼Œ`message` é€šå¸¸æ˜¯å¯¼å…¥æˆåŠŸçš„ä¿¡æ¯ã€‚ |

**ç¤ºä¾‹æµå¼å“åº”ç‰‡æ®µ:**
```json
{"isFinish": null, "message": "æ­£åœ¨æŽ’é˜Ÿä¸­... å‰é¢è¿˜æœ‰ 0 äººã€‚"}
{"isFinish": null, "message": "æ­å–œä¹‰çˆ¶, è½®åˆ°æ‚¨å˜ž! æ“ä½œå³å°†å¼€å§‹..."}
{"isFinish": null, "message": "å‡†å¤‡ç™»å½•åˆ°123ç½‘ç›˜..."}
{"isFinish": null, "message": "ç™»å½•æˆåŠŸï¼Œå‡†å¤‡å¯¼å…¥æ•°æ®..."}
{"isFinish": null, "message": "æ­£åœ¨é€šè¿‡çŸ­åˆ†äº«ç  a1b2c3d4... ä»Žæ•°æ®åº“èŽ·å–æ•°æ®..."}
{"isFinish": null, "message": "[1/10][é€Ÿåº¦: 0.50 ä¸ª/ç§’][é¢„ä¼°å‰©ä½™æ—¶é—´: 18.00 ç§’] æ­£åœ¨åˆ›å»ºæ–‡ä»¶å¤¹: ç¤ºä¾‹æ–‡ä»¶å¤¹"}
{"isFinish": true, "message": "å¯¼å…¥å®Œæˆ, ä¿å­˜åˆ°123ç½‘ç›˜æ ¹ç›®å½•ä¸­çš„: >>> å¯¼å…¥çš„åˆ†äº«_20230101120000_GitHub@realcwj <<< æ–‡ä»¶å¤¹"}
```
**é”™è¯¯å“åº”ç¤ºä¾‹ (å•è¡Œ):**
```json
{"isFinish": false, "message": "ç™»å½•123ç½‘ç›˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç ã€‚"}
{"isFinish": false, "message": "çŸ­åˆ†äº«ç æ— æ•ˆæˆ–æœªåœ¨æ•°æ®åº“ä¸­æ‰¾åˆ°ã€‚"}
```
**çŠ¶æ€ç :**
*   `200 OK`: è¯·æ±‚è¢«æŽ¥å—å¹¶å¼€å§‹å¤„ç†ï¼ˆæµå¼å“åº”ï¼‰ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆä¾‹å¦‚ï¼ŒåŒæ—¶æä¾›äº† `codeHash` å’Œ `base64Data`ï¼Œæˆ–è€…å¿…è¦å‚æ•°ç¼ºå¤±ï¼‰ã€‚

---

### POST /api/link (ä»Žåˆ†äº«é“¾æŽ¥å¯¼å‡º)
ä»Žä¸€ä¸ªå…¬å¼€çš„123äº‘ç›˜åˆ†äº«é“¾æŽ¥ï¼ˆä¾‹å¦‚ `https://www.123pan.com/s/xxxx-yyyyy` æˆ– `https://www.123pan.com/s/xxxx`ï¼‰ä¸­æå–æ–‡ä»¶ç»“æž„ï¼Œå¹¶ç”Ÿæˆé•¿åˆ†äº«ç ã€‚å¯ä»¥é€‰æ‹©æ€§åœ°ç”ŸæˆçŸ­åˆ†äº«ç å¹¶åŠ å…¥èµ„æºå…±äº«è®¡åˆ’ã€‚æ­¤æŽ¥å£ä¸éœ€è¦ç”¨æˆ·ç™»å½•123ç½‘ç›˜ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°                | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                                                                                   |
|-------------------------|---------|----------|----------------------------------------------------------------------------------------|
| `shareKey`              | string  | æ˜¯       | 123äº‘ç›˜åˆ†äº«é“¾æŽ¥çš„Keyéƒ¨åˆ† (ä¾‹å¦‚ `xxxx-yyyyy` æˆ– `xxxx`)                                     |
| `sharePwd`              | string  | å¦       | åˆ†äº«é“¾æŽ¥çš„å¯†ç  (å¦‚æžœæœ‰)                                                                     |
| `parentFileId`          | string  | å¦       | ä»Žåˆ†äº«é“¾æŽ¥çš„å“ªä¸ªæ–‡ä»¶å¤¹IDå¼€å§‹å¯¼å‡ºï¼Œé»˜è®¤ä¸º "0" (åˆ†äº«çš„æ ¹ç›®å½•)                                     |
| `userSpecifiedBaseName` | string  | å¦       | ç”¨æˆ·æŒ‡å®šçš„åˆ†äº«åç§°ï¼Œå¦‚æžœ `generateShortCode` æˆ– `shareProject` ä¸º `true` æ—¶å»ºè®®å¡«å†™                   |
| `generateShortCode`     | boolean | å¦       | æ˜¯å¦ç”ŸæˆçŸ­åˆ†äº«ç  (é»˜è®¤ä¸º `false`)ã€‚å¦‚æžœ `shareProject` ä¸º `true`ï¼Œæ­¤é¡¹å¼ºåˆ¶ä¸º `true`ã€‚       |
| `shareProject`          | boolean | å¦       | æ˜¯å¦åŠ å…¥èµ„æºå…±äº«è®¡åˆ’ (é»˜è®¤ä¸º `false`)ï¼ŒåŠ å…¥åŽå°†æäº¤åˆ°æ•°æ®åº“ç­‰å¾…å®¡æ ¸ã€‚å¦‚æžœä¸º `true`ï¼Œåˆ™ `userSpecifiedBaseName` å¿…å¡«ã€‚ |

**å“åº”å†…å®¹ (application/x-ndjson - æµå¼ï¼Œæ¯è¡Œä¸€ä¸ªJSONå¯¹è±¡)**
åŒ `/api/export` çš„å“åº”ç»“æž„ã€‚
| å­—æ®µå     | ç±»åž‹           | æè¿°                                                                                                                               |
|------------|----------------|------------------------------------------------------------------------------------------------------------------------------------|
| `isFinish` | boolean / None | `None`: æ“ä½œè¿›è¡Œä¸­ï¼› `True`: æ“ä½œæˆåŠŸå®Œæˆï¼› `False`: æ“ä½œå¤±è´¥ã€‚                                                                            |
| `message`  | string         | æ“ä½œä¿¡æ¯æˆ–ç»“æžœã€‚å¦‚æžœ `isFinish` ä¸º `True`ï¼Œ`message` å°†æ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼ŒåŒ…å« `{"longShareCode": "...", "shortShareCode": "..."}`ï¼ˆå¦‚æžœç”Ÿæˆäº†çŸ­ç ï¼‰ã€‚ |

**ç¤ºä¾‹æµå¼å“åº”ç‰‡æ®µ:**
```json
{"isFinish": null, "message": "æ­£åœ¨æŽ’é˜Ÿä¸­... å‰é¢è¿˜æœ‰ 2 äººã€‚"}
{"isFinish": null, "message": "å¼€å§‹ä»Žåˆ†äº«é“¾æŽ¥å¯¼å‡ºæ–‡ä»¶åˆ—è¡¨..."}
{"isFinish": null, "message": "èŽ·å–æ–‡ä»¶åˆ—è¡¨ä¸­ï¼šparentFileId: 0"}
{"isFinish": true, "message": "{\"longShareCode\":\"é•¿åˆ†äº«ç base64æ•°æ®...\",\"shortShareCode\":\"ç”Ÿæˆçš„çŸ­åˆ†äº«ç hash...\"}"}
```
**é”™è¯¯å“åº”ç¤ºä¾‹ (å•è¡Œ):**
```json
{"isFinish": false, "message": "èŽ·å–æ–‡ä»¶åˆ—è¡¨å¤±è´¥ï¼š{\"code\":401000,\"msg\":\"share pwd error\",\"info\":\"\",\"data\":null}"}
```
**çŠ¶æ€ç :**
*   `200 OK`: è¯·æ±‚è¢«æŽ¥å—å¹¶å¼€å§‹å¤„ç†ï¼ˆæµå¼å“åº”ï¼‰ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ã€‚

---

## å…¬å…±èµ„æºåº“ç›¸å…³

### POST /api/get_content_tree (èŽ·å–åˆ†äº«å†…å®¹ç›®å½•æ ‘)
æ ¹æ®æä¾›çš„çŸ­åˆ†äº«ç  (`codeHash`) æˆ–é•¿åˆ†äº«ç  (`shareCode`)ï¼Œç”Ÿæˆå¹¶è¿”å›žè¯¥åˆ†äº«å†…å®¹çš„ç›®å½•æ ‘ç»“æž„ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°      | ç±»åž‹   | æ˜¯å¦å¿…å¡« | æè¿°                                                                  |
|---------------|--------|----------|-----------------------------------------------------------------------|
| `codeHash`    | string | å¦       | çŸ­åˆ†äº«ç  (64ä½SHA256å“ˆå¸Œå€¼)ã€‚å¦‚æžœæä¾›ï¼Œä¼˜å…ˆä½¿ç”¨æ­¤é¡¹ä»Žæ•°æ®åº“æŸ¥æ‰¾é•¿åˆ†äº«ç ã€‚ |
| `shareCode`   | string | å¦       | é•¿åˆ†äº«ç  (Base64ç¼–ç çš„æ–‡ä»¶ç»“æž„æ•°æ®)ã€‚å¦‚æžœæœªæä¾› `codeHash`ï¼Œåˆ™å¿…é¡»æä¾›æ­¤é¡¹ã€‚ |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå     | ç±»åž‹          | æè¿°                                                          |
|------------|---------------|---------------------------------------------------------------|
| `isFinish` | boolean       | `True` è¡¨ç¤ºæˆåŠŸèŽ·å–ç›®å½•æ ‘ï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚                    |
| `message`  | string / array| å¦‚æžœæˆåŠŸï¼Œ`message` æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ¯è¡Œä»£è¡¨ç›®å½•æ ‘çš„ä¸€è¡Œæ–‡æœ¬ï¼›å¦‚æžœå¤±è´¥ï¼Œæ˜¯é”™è¯¯ä¿¡æ¯å­—ç¬¦ä¸²ã€‚ |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": true,
    "message": [
        "ðŸ“‚ ç¤ºä¾‹é¡¶çº§æ–‡ä»¶å¤¹",
        "â”œâ”€â”€ ðŸ“„ æ–‡ä»¶1.txt",
        "â””â”€â”€ ðŸ“‚ å­æ–‡ä»¶å¤¹",
        "    â””â”€â”€ ðŸ–¼ï¸ å›¾ç‰‡.jpg"
    ]
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": false,
    "message": "é”™è¯¯ï¼šæœªæ‰¾åˆ°ä¸Žæä¾›çš„çŸ­åˆ†äº«ç  a1b2c3d4... å¯¹åº”çš„åˆ†äº«å†…å®¹ã€‚"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸèŽ·å–ç›®å½•æ ‘ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œ`codeHash` å’Œ `shareCode` éƒ½æœªæä¾›ï¼‰ã€‚
*   `404 Not Found`: æ ¹æ® `codeHash` æœªæ‰¾åˆ°åˆ†äº«ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œè§£æžé•¿åˆ†äº«ç å¤±è´¥ï¼‰ã€‚

---

### POST /api/get_sharecode (é€šè¿‡çŸ­ç èŽ·å–é•¿åˆ†äº«ç )
æ ¹æ®æä¾›çš„çŸ­åˆ†äº«ç  (`codeHash`) ä»Žæ•°æ®åº“ä¸­æŸ¥è¯¢å¹¶è¿”å›žå¯¹åº”çš„é•¿åˆ†äº«ç ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°   | ç±»åž‹   | æ˜¯å¦å¿…å¡« | æè¿°                       |
|------------|--------|----------|----------------------------|
| `codeHash` | string | æ˜¯       | çŸ­åˆ†äº«ç  (64ä½SHA256å“ˆå¸Œå€¼)ã€‚ |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå     | ç±»åž‹   | æè¿°                                      |
|------------|--------|-------------------------------------------|
| `isFinish` | boolean| `True` è¡¨ç¤ºæˆåŠŸèŽ·å–ï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚       |
| `message`  | string | å¦‚æžœæˆåŠŸï¼Œæ˜¯é•¿åˆ†äº«ç  (Base64æ•°æ®)ï¼›å¦‚æžœå¤±è´¥ï¼Œæ˜¯é”™è¯¯ä¿¡æ¯ã€‚ |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": true,
    "message": "é•¿åˆ†äº«ç base64æ•°æ®..."
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": false,
    "message": "æœªæ‰¾åˆ°ä¸Žæä¾›çš„çŸ­åˆ†äº«ç  a1b2c3d4... å¯¹åº”çš„åˆ†äº«å†…å®¹ã€‚"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸèŽ·å–é•¿åˆ†äº«ç ã€‚
*   `400 Bad Request`: `codeHash` å‚æ•°æ— æ•ˆæˆ–ç¼ºå¤±ã€‚
*   `404 Not Found`: æœªæ‰¾åˆ°å¯¹åº”çš„åˆ†äº«ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚

---

### POST /api/search_database (æœç´¢å…¬å…±èµ„æº)
æ ¹æ®æä¾›çš„å…³é”®è¯æ¨¡ç³Šæœç´¢å…¬å…±èµ„æºåº“ä¸­å·²å®¡æ ¸é€šè¿‡çš„åˆ†äº«ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°         | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                               |
|------------------|---------|----------|------------------------------------|
| `rootFolderName` | string  | æ˜¯       | æœç´¢å…³é”®è¯ï¼ˆå°†å¯¹åˆ†äº«çš„æ ¹ç›®å½•åè¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼‰ |
| `page`           | integer | å¦       | é¡µç ï¼Œé»˜è®¤ä¸º 1                          |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå    | ç±»åž‹           | æè¿°                                                                 |
|-----------|----------------|----------------------------------------------------------------------|
| `success` | boolean        | `True` è¡¨ç¤ºæœç´¢æˆåŠŸï¼ˆå³ä½¿ç»“æžœä¸ºç©ºï¼‰ï¼›`False` è¡¨ç¤ºå‘ç”Ÿé”™è¯¯ã€‚                 |
| `files`   | array of objects | æœç´¢ç»“æžœåˆ—è¡¨ã€‚æ¯ä¸ªå¯¹è±¡åŒ…å« `name`, `codeHash`, `timestamp` å­—æ®µã€‚   |
| `end`     | boolean        | æ˜¯å¦å·²åˆ°è¾¾æœ€åŽä¸€é¡µã€‚                                                    |
| `message` | string         | å¦‚æžœ `success` ä¸º `False`ï¼Œåˆ™åŒ…å«é”™è¯¯ä¿¡æ¯ï¼›å¦‚æžœæœç´¢è¯ä¸ºç©ºï¼Œåˆ™æç¤ºè¾“å…¥å…³é”®è¯ã€‚ |

**æˆåŠŸå“åº”ç¤ºä¾‹ (æœ‰ç»“æžœ):**
```json
{
    "success": true,
    "files": [
        {
            "name": "åŒ…å«å…³é”®è¯çš„åˆ†äº«1",
            "codeHash": "hash1...",
            "timestamp": "YYYY-MM-DD HH:MM:SS"
        }
    ],
    "end": false
}
```
**æˆåŠŸå“åº”ç¤ºä¾‹ (æ— ç»“æžœæˆ–æœç´¢è¯ä¸ºç©º):**
```json
{
    "success": true,
    "files": [],
    "end": true,
    "message": "è¯·è¾“å…¥æœç´¢å…³é”®è¯ã€‚" // (å¦‚æžœæœç´¢è¯ä¸ºç©º)
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹:**
```json
{
    "success": false,
    "message": "æœç´¢æ—¶å‘ç”ŸæœåŠ¡å™¨é”™è¯¯: ...",
    "files": [],
    "end": true
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æœç´¢è¯·æ±‚æˆåŠŸå¤„ç†ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚

---

### POST /api/submit_database (æäº¤é•¿åˆ†äº«ç åˆ°æ•°æ®åº“)
ç”¨æˆ·å¯ä»¥æäº¤è‡ªå·±çš„é•¿åˆ†äº«ç å’Œè‡ªå®šä¹‰çš„åˆ†äº«åç§°åˆ°æ•°æ®åº“ã€‚
å¦‚æžœå‹¾é€‰äº†â€œåŠ å…¥èµ„æºå…±äº«è®¡åˆ’â€ï¼Œåˆ™åˆ†äº«å°†è¿›å…¥å¾…å®¡æ ¸çŠ¶æ€ï¼›å¦åˆ™ï¼Œä»…ç”Ÿæˆä¸€ä¸ªç§å¯†çš„çŸ­åˆ†äº«ç ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°         | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                                                              |
|------------------|---------|----------|-------------------------------------------------------------------|
| `rootFolderName` | string  | æ˜¯       | ç”¨æˆ·ä¸ºæ­¤åˆ†äº«æŒ‡å®šçš„åç§°ã€‚                                                |
| `base64Data`     | string  | æ˜¯       | é•¿åˆ†äº«ç  (Base64ç¼–ç çš„æ–‡ä»¶ç»“æž„æ•°æ®)ã€‚                                   |
| `shareProject`   | boolean | å¦       | æ˜¯å¦åŠ å…¥èµ„æºå…±äº«è®¡åˆ’ (é»˜è®¤ä¸º `false`)ã€‚`true` åˆ™å¾…å®¡æ ¸ï¼Œ`false` åˆ™ä¸ºç§å¯†ã€‚ |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå     | ç±»åž‹   | æè¿°                                                                            |
|------------|--------|---------------------------------------------------------------------------------|
| `isFinish` | boolean| `True` è¡¨ç¤ºæäº¤æˆåŠŸå¹¶è¿”å›žçŸ­ç ï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚                                     |
| `message`  | string | å¦‚æžœæˆåŠŸï¼Œæ˜¯ç”Ÿæˆçš„çŸ­åˆ†äº«ç  (SHA256å“ˆå¸Œå€¼)ï¼›å¦‚æžœå¤±è´¥ï¼Œæ˜¯é”™è¯¯ä¿¡æ¯æˆ–æ“ä½œç»“æžœæ—¥å¿—çš„æ‘˜è¦ã€‚ |

**æˆåŠŸå“åº”ç¤ºä¾‹ (æ–°æäº¤):**
```json
{
    "isFinish": true,
    "message": "ç”Ÿæˆçš„çŸ­åˆ†äº«ç hash..."
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹ (æˆ–å·²å­˜åœ¨ä½†æ ¹æ®ç­–ç•¥æœªé‡å¤æ·»åŠ ):**
```json
{
    "isFinish": false,
    "message": "æ•°æ®åº“ä¸­å·²å­˜åœ¨å…·æœ‰ç›¸åŒå†…å®¹çš„åˆ†äº« (Hash: a1b2c3d4...). æ ¹æ®å½“å‰ç­–ç•¥ï¼Œæœªä¿®æ”¹æ•°æ®åº“è®°å½•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨çŽ°æœ‰çŸ­åˆ†äº«ç ã€‚"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸå¤„ç†ï¼ˆå¯èƒ½è¡¨ç¤ºæ–°æäº¤æˆåŠŸï¼Œæˆ–æ£€æµ‹åˆ°é‡å¤ä½†çŸ­ç æœ‰æ•ˆï¼‰ã€‚
*   `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ã€‚
*   `409 Conflict`: å¦‚æžœå¤„ç†æ•°æ®åº“å­˜å‚¨æ—¶å‘ç”Ÿå†²çªï¼Œä¸”è®¤ä¸ºä¸æ˜¯ä¸¥é‡é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œè®°å½•å·²å­˜åœ¨å¹¶æŒ‰ç­–ç•¥å¤„ç†ï¼‰ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚

---

### GET /api/list_public_shares (åˆ—å‡ºå…¬å…±èµ„æº)
åˆ†é¡µåˆ—å‡ºå…¬å…±èµ„æºåº“ä¸­æ‰€æœ‰å·²å®¡æ ¸é€šè¿‡çš„åˆ†äº«ã€‚

**è¯·æ±‚å‚æ•° (Query Parameters)**
| å‚æ•°åç§° | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°         |
|----------|---------|----------|--------------|
| `page`   | integer | å¦       | é¡µç ï¼Œé»˜è®¤ä¸º 1 |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå    | ç±»åž‹           | æè¿°                                                              |
|-----------|----------------|-------------------------------------------------------------------|
| `success` | boolean        | `True` è¡¨ç¤ºèŽ·å–æˆåŠŸï¼›`False` è¡¨ç¤ºå‘ç”Ÿé”™è¯¯ã€‚                           |
| `files`   | array of objects | å½“å‰é¡µçš„åˆ†äº«åˆ—è¡¨ã€‚æ¯ä¸ªå¯¹è±¡åŒ…å« `name`, `codeHash`, `timestamp` å­—æ®µã€‚ |
| `end`     | boolean        | æ˜¯å¦å·²åˆ°è¾¾æœ€åŽä¸€é¡µã€‚                                                 |
| `message` | string         | å¦‚æžœ `success` ä¸º `False`ï¼Œåˆ™åŒ…å«é”™è¯¯ä¿¡æ¯ã€‚                           |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "success": true,
    "files": [
        {
            "name": "å…¬å¼€åˆ†äº«1",
            "codeHash": "hash1...",
            "timestamp": "YYYY-MM-DD HH:MM:SS"
        },
        {
            "name": "å…¬å¼€åˆ†äº«2",
            "codeHash": "hash2...",
            "timestamp": "YYYY-MM-DD HH:MM:SS"
        }
    ],
    "end": false
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹:**
```json
{
    "success": false,
    "message": "èŽ·å–å…¬å…±åˆ†äº«åˆ—è¡¨å¤±è´¥: ...",
    "files": [],
    "end": true
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸèŽ·å–åˆ—è¡¨ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚

---

## ç®¡ç†åŽå°API

### é€šç”¨è¯´æ˜Žï¼šç®¡ç†å‘˜è®¤è¯
æ‰€æœ‰ç®¡ç†åŽå°APIéƒ½éœ€è¦ç®¡ç†å‘˜å·²ç™»å½•ã€‚è®¤è¯é€šè¿‡ä¼šè¯ (session) å’Œ cookie è¿›è¡Œã€‚å¦‚æžœæœªè®¤è¯ï¼Œè®¿é—®å—ä¿æŠ¤çš„APIå°†å¯¼è‡´é‡å®šå‘åˆ°ç™»å½•é¡µé¢æˆ–è¿”å›žé”™è¯¯ã€‚`{ADMIN_ENTRY}` æ˜¯åœ¨ `settings.yaml` ä¸­é…ç½®çš„ç®¡ç†å‘˜å…¥å£è·¯å¾„ã€‚

---

### GET /api/{ADMIN_ENTRY}/get_shares (èŽ·å–åˆ†äº«åˆ—è¡¨)
æ ¹æ®çŠ¶æ€ï¼ˆå·²æ‰¹å‡†ã€å¾…å®¡æ ¸ã€ç§å¯†ï¼‰åˆ†é¡µèŽ·å–åˆ†äº«åˆ—è¡¨ã€‚

**è¯·æ±‚å‚æ•° (Query Parameters)**
| å‚æ•°åç§° | ç±»åž‹    | æ˜¯å¦å¿…å¡« | æè¿°                                                     |
|----------|---------|----------|----------------------------------------------------------|
| `status` | string  | æ˜¯       | çŠ¶æ€ç­›é€‰å™¨ï¼Œå¯é€‰å€¼ä¸º: `approved` (å·²æ‰¹å‡†), `pending` (å¾…å®¡æ ¸), `private` (ç§å¯†)                              |
| `page`   | integer | å¦       | é¡µç ï¼Œé»˜è®¤ä¸º 1                                              |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå    | ç±»åž‹           | æè¿°                                                                                                                                |
|-----------|----------------|-------------------------------------------------------------------------------------------------------------------------------------|
| `success` | boolean        | `True` è¡¨ç¤ºèŽ·å–æˆåŠŸï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚                                                                                                  |
| `shares`  | array of objects | åˆ†äº«åˆ—è¡¨ã€‚æ¯ä¸ªå¯¹è±¡åŒ…å« `codeHash`, `rootFolderName`, `shareCode` (é•¿ç ), `timeStamp`, `visibleFlag` (Python bool `True`/`False` æˆ– `None`)ã€‚ |
| `end`     | boolean        | æ˜¯å¦ä¸ºæœ€åŽä¸€é¡µã€‚                                                                                                                       |
| `message` | string         | å¦‚æžœ `success` ä¸º `False`ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯ã€‚                                                                                                |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "success": true,
    "shares": [
        {
            "codeHash": "hash1...",
            "rootFolderName": "å·²æ‰¹å‡†çš„åˆ†äº«",
            "shareCode": "longsharecode1...",
            "timeStamp": "YYYY-MM-DD HH:MM:SS",
            "visibleFlag": true
        }
    ],
    "end": false
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸã€‚
*   `400 Bad Request`: å‚æ•°é”™è¯¯ï¼ˆå¦‚ `status` æ— æ•ˆï¼‰ã€‚
*   `401 Unauthorized` / `403 Forbidden`: (å¦‚æžœé€šè¿‡ session æ£€æŸ¥å¤±è´¥ï¼ŒFlask é€šå¸¸ä¼šé‡å®šå‘ï¼Œä½†APIç›´æŽ¥è°ƒç”¨å¯èƒ½è¿”å›žæ­¤ç±»é”™è¯¯)ã€‚
*   `500 Internal Server Error`: æœåŠ¡å™¨é”™è¯¯ã€‚

---

### POST /api/{ADMIN_ENTRY}/update_share_status (æ›´æ–°åˆ†äº«çŠ¶æ€)
æ›´æ–°æŒ‡å®šåˆ†äº«çš„çŠ¶æ€ (å¯è§æ€§)ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°    | ç±»åž‹   | æ˜¯å¦å¿…å¡« | æè¿°                                                                 |
|-------------|--------|----------|----------------------------------------------------------------------|
| `codeHash`  | string | æ˜¯       | è¦æ›´æ–°çŠ¶æ€çš„åˆ†äº«çš„çŸ­ç ã€‚                                                   |
| `newStatus` | string | æ˜¯       | æ–°çš„çŠ¶æ€ï¼Œå¯é€‰å€¼ä¸º: `approved` (è®¾ä¸ºå…¬å¼€), `pending` (è®¾ä¸ºå¾…å®¡æ ¸), `private` (è®¾ä¸ºç§å¯†)ã€‚ |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå    | ç±»åž‹   | æè¿°                                                       |
|-----------|--------|------------------------------------------------------------|
| `success` | boolean| `True` è¡¨ç¤ºæ›´æ–°æˆåŠŸï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚                         |
| `message` | string | æ“ä½œç»“æžœä¿¡æ¯ã€‚                                                |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "success": true,
    "message": "åˆ†äº«çŠ¶æ€æ›´æ–°æˆåŠŸã€‚"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸã€‚
*   `400 Bad Request`: å‚æ•°é”™è¯¯ã€‚
*   `500 Internal Server Error`: æ›´æ–°å¤±è´¥æˆ–æœåŠ¡å™¨é”™è¯¯ã€‚

---

### POST /api/{ADMIN_ENTRY}/update_share_name (æ›´æ–°åˆ†äº«åç§°)
æ›´æ–°æŒ‡å®šåˆ†äº«çš„ `rootFolderName` (åˆ†äº«å)ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°   | ç±»åž‹   | æ˜¯å¦å¿…å¡« | æè¿°                         |
|------------|--------|----------|------------------------------|
| `codeHash` | string | æ˜¯       | è¦æ›´æ–°åç§°çš„åˆ†äº«çš„çŸ­ç ã€‚           |
| `newName`  | string | æ˜¯       | æ–°çš„åˆ†äº«åç§°ï¼ˆåŽŸå§‹æœªæ¸…ç†çš„å­—ç¬¦ä¸²ï¼‰ã€‚ |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå        | ç±»åž‹   | æè¿°                                                          |
|---------------|--------|---------------------------------------------------------------|
| `success`     | boolean| `True` è¡¨ç¤ºæ›´æ–°æˆåŠŸï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚                            |
| `message`     | string | æ“ä½œç»“æžœä¿¡æ¯ã€‚                                                   |
| `cleanedName` | string | (å¯é€‰) å¦‚æžœæˆåŠŸï¼Œè¿”å›žæ¸…ç†åŽçš„æ–°åç§°ã€‚                             |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "success": true,
    "message": "åˆ†äº«åç§°æ›´æ–°æˆåŠŸã€‚",
    "cleanedName": "æ¸…ç†åŽçš„æ–°åç§°"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸã€‚
*   `400 Bad Request`: å‚æ•°é”™è¯¯ã€‚
*   `500 Internal Server Error`: æ›´æ–°å¤±è´¥æˆ–æœåŠ¡å™¨é”™è¯¯ã€‚

---

### POST /api/{ADMIN_ENTRY}/delete_share (åˆ é™¤åˆ†äº«)
ä»Žæ•°æ®åº“ä¸­åˆ é™¤æŒ‡å®šçš„åˆ†äº«è®°å½•ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
| å‚æ•°åç§°   | ç±»åž‹   | æ˜¯å¦å¿…å¡« | æè¿°                   |
|------------|--------|----------|------------------------|
| `codeHash` | string | æ˜¯       | è¦åˆ é™¤çš„åˆ†äº«çš„çŸ­ç ã€‚       |

**å“åº”å†…å®¹ (JSON)**
| å­—æ®µå    | ç±»åž‹   | æè¿°                                            |
|-----------|--------|-------------------------------------------------|
| `success` | boolean| `True` è¡¨ç¤ºåˆ é™¤æˆåŠŸï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚              |
| `message` | string | æ“ä½œç»“æžœä¿¡æ¯ã€‚                                     |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "success": true,
    "message": "åˆ†äº«è®°å½•åˆ é™¤æˆåŠŸã€‚"
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹ (è®°å½•ä¸å­˜åœ¨):**
```json
{
    "success": false,
    "message": "è®°å½•åˆ é™¤å¤±è´¥ï¼Œå¯èƒ½è¯¥è®°å½•ä¸å­˜åœ¨ã€‚"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æˆåŠŸã€‚
*   `400 Bad Request`: å‚æ•°é”™è¯¯ã€‚
*   `404 Not Found`: è®°å½•æœªæ‰¾åˆ°ã€‚
*   `500 Internal Server Error`: åˆ é™¤å¤±è´¥æˆ–æœåŠ¡å™¨é”™è¯¯ã€‚

---

### POST /api/{ADMIN_ENTRY}/update_database (ä»Žè¿œç¨‹æ›´æ–°æ•°æ®åº“)
è§¦å‘æœåŠ¡å™¨ä»Žé¢„è®¾çš„è¿œç¨‹åœ°å€ä¸‹è½½æœ€æ–°çš„æ•°æ®åº“æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹åˆå¹¶åˆ°çŽ°æœ‰çš„ä¸»æ•°æ®åº“ä¸­ã€‚

**è¯·æ±‚å‚æ•° (JSON Body)**
æ— ç‰¹å®šè¯·æ±‚ä½“å‚æ•°ï¼Œè¯·æ±‚æœ¬èº«å³ä¸ºæ“ä½œæŒ‡ä»¤ã€‚

**å“åº”å†…å®¹ (JSON)**
æ¯ä¸ªJSONå¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
| å­—æ®µå     | ç±»åž‹    | æè¿°                                     |
|------------|---------|------------------------------------------|
| `isFinish` | boolean | `True` è¡¨ç¤ºæ•°æ®åº“æ›´æ–°æˆåŠŸï¼›`False` è¡¨ç¤ºå¤±è´¥ã€‚ |
| `message`  | string  | æ“ä½œç»“æžœä¿¡æ¯ã€‚                             |

**æˆåŠŸå“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": true,
    "message": "æ•°æ®åº“å·²æˆåŠŸæ›´æ–°ã€‚"
}
```
**å¤±è´¥å“åº”ç¤ºä¾‹:**
```json
{
    "isFinish": false,
    "message": "æ•°æ®åº“æ›´æ–°å¤±è´¥: [å…·ä½“çš„é”™è¯¯ä¿¡æ¯]"
}
```
**çŠ¶æ€ç :**
*   `200 OK`: æ›´æ–°æµç¨‹æˆåŠŸå®Œæˆã€‚
*   `500 Internal Server Error`: æ›´æ–°è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼ˆå¦‚ä¸‹è½½å¤±è´¥ã€å¯¼å…¥å¤±è´¥ç­‰ï¼‰ã€‚
